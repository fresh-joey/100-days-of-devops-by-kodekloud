# Day 41: Write a Docker File

## Requirements
As per recent requirements shared by the Nautilus application development team, they need custom images created for one of their projects. Several of the initial testing requirements are already been shared with DevOps team. Therefore, create a docker file /opt/docker/Dockerfile (please keep D capital of Dockerfile) on App server 3 in Stratos DC and configure to build an image with the following requirements:

a. Use ubuntu:24.04 as the base image.

b. Install Apache2 and configure it to work on 6200 port. (do not update any other Apache configuration settings like document root etc).

## Steps
- SSH into App server 3
- Change into the specified directory and create a Dockerfile with the content below
  ```ini
  FROM ubuntu:24.04

  RUN apt-get update && \
      apt-get upgrade -y && \
      apt-get install apache2 -y
  
  # Change Apache port to 6200
  RUN sed -i 's/80/6200/g' /etc/apache2/ports.conf && \
      sed -i 's/*:80/*:6200/g' /etc/apache2/sites-available/000-default.conf
  
  EXPOSE 6200
  
  CMD ["apache2ctl", "-D", "FOREGROUND"]
  ```
- Build the image
  ```console
  docker build -t <image-name> .
  ```
- Create a container with the Image
  ```console
  docker run -d -p 6200:6200 <image-name>
  ```
- Test connection on the configured port
  ```console
  curl localhost:6200
  ```

## üìù Notes
- You need to map a port from the host when running the container for the test to work
- Check syntax when writing the Dockerfile to avoid errors during build
